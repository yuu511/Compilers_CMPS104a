collatz:   .function int 
           .param int n
           .local int c
           c = 0  
.wh0:      $t0:i = n != 1
           goto .od0 if $t0:i
.do0:      $t1:i = c + 1
           c = $t1:i  
.if0:      $t3:i = n % 2
           $t2:i = $t3:i == 1
           goto .el0 if $t2:i
.th0:      $t5:i = 3 * n
           $t4:i = $t5:i + 1
           n = $t4:i  
           goto .fi0
.el0:      $t6:i = n / 2
           n = $t6:i  
.fi0:
           goto .wh0
.od0:
           return c
           return
           .end
test:      .function 
           .param int n
           .local int c
           $t0:i = call collatz(n)  
           c = $t0:i  
           call putstr("collatz(")  
           call putint(n)  
           call putstr(") = ")  
           call putint(c)  
           call putchr('\n')  
           return
           .end
main:      .function int 
           call test(3)  
           call test(50)  
           return 0
           return
           .end
