head	1.6;
access;
symbols;
locks;
comment	@ * @;


1.6
date	2019.04.04.00.26.09;	author -;	state -;
branches;
next	1.5;

1.5
date	2019.04.04.00.25.21;	author -;	state -;
branches;
next	1.4;

1.4
date	2019.04.04.00.22.10;	author -;	state -;
branches;
next	1.3;

1.3
date	2019.04.04.00.21.47;	author -;	state -;
branches;
next	1.2;

1.2
date	2019.04.04.00.21.34;	author -;	state -;
branches;
next	1.1;

1.1
date	2018.01.22.22.07.14;	author -;	state -;
branches;
next	;


desc
@@


1.6
log
@-
@
text
@// $Id: arraydispatch.c,v 1.5 2019-04-03 17:25:21-07 - - $

#include <stdio.h>

void add (void) { printf ("%s\n", __func__); }
void sub (void) { printf ("%s\n", __func__); }
void mul (void) { printf ("%s\n", __func__); }
void div (void) { printf ("%s\n", __func__); }

typedef void (*fn) (void);
fn dispatch[256] = {
   ['+'] = add,
   ['-'] = sub,
   ['*'] = mul,
   ['/'] = div,
};

int main() {
   char ops[] = "+-*/";
   for (int i = 0; ops[i]; ++i) {
      fn f = dispatch[(int)ops[i]];
      printf ("%p ", (void*) f);
      f();
   }
}

@


1.5
log
@-
@
text
@d1 1
a1 1
// $Id: arraydispatch.c,v 1.4 2019-04-03 17:22:10-07 - - $
d22 1
a22 1
      printf ("%p ", (void*) (&f));
@


1.4
log
@-
@
text
@d1 1
a1 1
// $Id: arraydispatch.c,v 1.3 2019-04-03 17:21:47-07 - - $
d22 1
a22 1
      printf ("%p ", &f);
@


1.3
log
@-
@
text
@d1 1
a1 1
// $Id: arraydispatch.c,v 1.2 2019-04-03 17:21:34-07 - - $
d22 1
a22 1
      printf ("%p ", f);
@


1.2
log
@-
@
text
@d1 1
a1 1
// $Id: arraydispatch.c,v 1.1 2018-01-22 14:07:14-08 - - $
d5 4
a8 4
void add (void) { printf ("%s\n", __FUNC__); }
void sub (void) { printf ("%s\n", __FUNC__); }
void mul (void) { printf ("%s\n", __FUNC__); }
void div (void) { printf ("%s\n", __FUNC__); }
@


1.1
log
@-
@
text
@d1 1
a1 1
// $Id: arraydispatch.c,v 1.16 2016-11-14 17:02:46-08 - - $
d5 4
a8 4
void add (void) { printf ("%s\n", __PRETTY_FUNCTION__); }
void sub (void) { printf ("%s\n", __PRETTY_FUNCTION__); }
void mul (void) { printf ("%s\n", __PRETTY_FUNCTION__); }
void div (void) { printf ("%s\n", __PRETTY_FUNCTION__); }
d12 4
a15 4
   ['+'] add,
   ['-'] sub,
   ['*'] mul,
   ['/'] div,
@
